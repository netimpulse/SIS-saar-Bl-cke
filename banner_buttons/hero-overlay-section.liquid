{% comment %}
  Hero-Section mit Hintergrundbild, farbigem Overlay, linkem Textblock
  und zwei Buttons mit Hover-Farben.
{% endcomment %}

{{ 'hero-overlay.css' | asset_url | stylesheet_tag }}

{%- liquid
  assign sid = 'hero-overlay--' | append: section.id
  assign bg_image = section.settings.bg_image
  assign overlay_alpha = section.settings.overlay_opacity | divided_by: 100.0
-%}

<style>
  /* Bereichsspezifische Styles */
  #{{ sid }} .hero-overlay__inner {
    --hero-height: {{ section.settings.section_height }}vh;
    --hero-height-mobile: {{ section.settings.section_height_mobile }}vh;
    --content-max-width: {{ section.settings.content_max_width }}px;
  }
  #{{ sid }} .hero-overlay__shade {
    background-color: {{ section.settings.overlay_color | color_modify: 'alpha', overlay_alpha }};
  }
  #{{ sid }} .hero-overlay__heading {
    font-family: {{ section.settings.heading_font.family }}, {{ section.settings.heading_font.fallback_families }};
    font-weight: {{ section.settings.heading_font.weight }};
    font-style: {{ section.settings.heading_font.style }};
    font-size: {{ section.settings.heading_size }}px;
    color: {{ section.settings.heading_color }};
  }
  #{{ sid }} .hero-overlay__text {
    font-family: {{ section.settings.text_font.family }}, {{ section.settings.text_font.fallback_families }};
    font-weight: {{ section.settings.text_font.weight }};
    font-style: {{ section.settings.text_font.style }};
    font-size: {{ section.settings.text_size }}px;
    color: {{ section.settings.text_color }};
  }

  /* Button 1 */
  #{{ sid }} .hero-overlay__btn--1 {
    background-color: {{ section.settings.btn1_bg }};
    color: {{ section.settings.btn1_text_color }};
    font-family: {{ section.settings.btn1_font.family }}, {{ section.settings.btn1_font.fallback_families }};
    font-weight: {{ section.settings.btn1_font.weight }};
    font-style: {{ section.settings.btn1_font.style }};
    font-size: {{ section.settings.btn1_font_size }}px;
    border-radius: {{ section.settings.btn1_radius }}px;
    padding: {{ section.settings.btn1_padding_y }}px {{ section.settings.btn1_padding_x }}px;
  }
  #{{ sid }} .hero-overlay__btn--1:hover {
    background-color: {{ section.settings.btn1_bg_hover }};
    color: {{ section.settings.btn1_text_hover | default: section.settings.btn1_text_color }};
  }

  /* Button 2 */
  #{{ sid }} .hero-overlay__btn--2 {
    background-color: {{ section.settings.btn2_bg }};
    color: {{ section.settings.btn2_text_color }};
    font-family: {{ section.settings.btn2_font.family }}, {{ section.settings.btn2_font.fallback_families }};
    font-weight: {{ section.settings.btn2_font.weight }};
    font-style: {{ section.settings.btn2_font.style }};
    font-size: {{ section.settings.btn2_font_size }}px;
    border-radius: {{ section.settings.btn2_radius }}px;
    padding: {{ section.settings.btn2_padding_y }}px {{ section.settings.btn2_padding_x }}px;
  }
  #{{ sid }} .hero-overlay__btn--2:hover {
    background-color: {{ section.settings.btn2_bg_hover }};
    color: {{ section.settings.btn2_text_hover | default: section.settings.btn2_text_color }};
  }
</style>

<section id="{{ sid }}" class="hero-overlay">
  <div class="hero-overlay__bg"
       style="{% if bg_image != blank %}background-image:url({{ bg_image | image_url: width: 3000 }});{% endif %}">
  </div>
  <div class="hero-overlay__shade"></div>

  <div class="hero-overlay__inner">
    <div class="page-width">
      <div class="hero-overlay__content">
        {%- if section.settings.heading != blank -%}
          <h1 class="hero-overlay__heading">{{ section.settings.heading | escape }}</h1>
        {%- endif -%}

        {%- if section.settings.text != blank -%}
          <div class="hero-overlay__text rte">{{ section.settings.text }}</div>
        {%- endif -%}

        {%- render 'hero-double-buttons',
          section_id: sid,
          btn1_text: section.settings.btn1_text,
          btn1_link: section.settings.btn1_link,
          btn2_text: section.settings.btn2_text,
          btn2_link: section.settings.btn2_link
        -%}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Hero – Bild mit Overlay & Buttons",
  "tag": "section",
  "class": "section",
  "settings": [
    { "type": "header", "content": "Hintergrund & Layout" },
    { "type": "image_picker", "id": "bg_image", "label": "Hintergrundbild" },
    { "type": "color", "id": "overlay_color", "label": "Overlay-Farbe", "default": "#2baaa2" },
    { "type": "range", "id": "overlay_opacity", "label": "Overlay-Deckkraft", "min": 0, "max": 100, "step": 1, "unit": "%", "default": 70 },
    { "type": "range", "id": "section_height", "label": "Höhe (Desktop, in vh)", "min": 40, "max": 100, "step": 5, "unit": "vh", "default": 60 },
    { "type": "range", "id": "section_height_mobile", "label": "Höhe (Mobil, in vh)", "min": 30, "max": 100, "step": 5, "unit": "vh", "default": 40 },
    { "type": "range", "id": "content_max_width", "label": "Inhaltsbreite", "min": 480, "max": 1200, "step": 10, "unit": "px", "default": 760 },

    { "type": "header", "content": "Überschrift" },
    { "type": "text", "id": "heading", "label": "Titel", "default": "Ihre Partner für professionelle Service-Lösungen" },
    { "type": "font_picker", "id": "heading_font", "label": "Schriftart", "default": "sans-serif" },
    { "type": "range", "id": "heading_size", "min": 20, "max": 100, "step": 1, "unit": "px", "label": "Schriftgröße", "default": 64 },
    { "type": "color", "id": "heading_color", "label": "Farbe", "default": "#ffffff" },

    { "type": "header", "content": "Untertitel / Text" },
    { "type": "richtext", "id": "text", "label": "Text", "default": "<p>Zwei spezialisierte Unternehmen unter einem Dach. Ihr Experte und Dienstleistungspartner auf höchstem Niveau.</p>" },
    { "type": "font_picker", "id": "text_font", "label": "Schriftart", "default": "sans-serif" },
    { "type": "range", "id": "text_size", "min": 12, "max": 40, "step": 1, "unit": "px", "label": "Schriftgröße", "default": 20 },
    { "type": "color", "id": "text_color", "label": "Farbe", "default": "#ffffff" },

    { "type": "header", "content": "Button 1" },
    { "type": "text", "id": "btn1_text", "label": "Text", "default": "Mehr über unsere Services" },
    { "type": "url", "id": "btn1_link", "label": "Link" },
    { "type": "font_picker", "id": "btn1_font", "label": "Schriftart", "default": "sans-serif" },
    { "type": "range", "id": "btn1_font_size", "min": 10, "max": 36, "step": 1, "unit": "px", "label": "Schriftgröße", "default": 16 },
    { "type": "range", "id": "btn1_padding_x", "min": 8, "max": 48, "step": 1, "unit": "px", "label": "Padding X", "default": 28 },
    { "type": "range", "id": "btn1_padding_y", "min": 6, "max": 24, "step": 1, "unit": "px", "label": "Padding Y", "default": 14 },
    { "type": "range", "id": "btn1_radius", "min": 0, "max": 32, "step": 1, "unit": "px", "label": "Eckenradius", "default": 10 },
    { "type": "color", "id": "btn1_bg", "label": "Hintergrund", "default": "#2baaa2" },
    { "type": "color", "id": "btn1_bg_hover", "label": "Hintergrund (Hover)", "default": "#238b84" },
    { "type": "color", "id": "btn1_text_color", "label": "Textfarbe", "default": "#ffffff" },
    { "type": "color", "id": "btn1_text_hover", "label": "Textfarbe (Hover)", "default": "#ffffff" },

    { "type": "header", "content": "Button 2" },
    { "type": "text", "id": "btn2_text", "label": "Text", "default": "Kontakt aufnehmen" },
    { "type": "url", "id": "btn2_link", "label": "Link" },
    { "type": "font_picker", "id": "btn2_font", "label": "Schriftart", "default": "sans-serif" },
    { "type": "range", "id": "btn2_font_size", "min": 10, "max": 36, "step": 1, "unit": "px", "label": "Schriftgröße", "default": 16 },
    { "type": "range", "id": "btn2_padding_x", "min": 8, "max": 48, "step": 1, "unit": "px", "label": "Padding X", "default": 24 },
    { "type": "range", "id": "btn2_padding_y", "min": 6, "max": 24, "step": 1, "unit": "px", "label": "Padding Y", "default": 14 },
    { "type": "range", "id": "btn2_radius", "min": 0, "max": 32, "step": 1, "unit": "px", "label": "Eckenradius", "default": 10 },
    { "type": "color", "id": "btn2_bg", "label": "Hintergrund", "default": "#ffffff" },
    { "type": "color", "id": "btn2_bg_hover", "label": "Hintergrund (Hover)", "default": "#e6e6e6" },
    { "type": "color", "id": "btn2_text_color", "label": "Textfarbe", "default": "#2baaa2" },
    { "type": "color", "id": "btn2_text_hover", "label": "Textfarbe (Hover)", "default": "#238b84" }
  ],
  "presets": [
    { "name": "Hero – Service Overlay", "category": "Bild" }
  ]
}
{% endschema %}
