{% comment %}
  Section: Qualitäten Hotspot
  Benötigt:
    - snippets/qualitaeten-hotspot-item.liquid
    - assets/qualitaeten-hotspot.css
{% endcomment %}

<link rel="stylesheet" href="{{ 'qualitaeten-hotspot.css' | asset_url }}" media="all">

<section class="hi-wrap color-{{ section.settings.color_scheme }}"
  style="
    --hi-gap: {{ section.settings.gap }}px;
    --hi-icon-size: {{ section.settings.icon_size }}px;
    --hi-radius: {{ section.settings.icon_radius }}px;
  "
>
  <div class="hi-inner page-width">
    {% if section.settings.heading != blank %}
      <h2 class="hi-title">{{ section.settings.heading | escape }}</h2>
    {% endif %}
    {% if section.settings.intro != blank %}
      <div class="hi-intro rte">{{ section.settings.intro }}</div>
    {% endif %}

    <div class="hi-grid hi-cols-d-{{ section.settings.cols_desktop }} hi-cols-t-{{ section.settings.cols_tablet }}">
      {%- for block in section.blocks -%}
        {% render 'qualitaeten-hotspot-item',
          block: block,
          show_icons_global: section.settings.show_icons,
          icon_size: section.settings.icon_size
        %}
      {%- endfor -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Qualitäten Hotspot",
  "tag": "section",
  "class": "section",
  "settings": [
    { "type": "text", "id": "heading", "label": "Überschrift", "default": "Qualitäten Hotspot" },
    { "type": "richtext", "id": "intro", "label": "Einleitungstext", "default": "<p>Kurzer Einleitungstext für den Qualitäten Hotspot.</p>" },

    { "type": "select", "id": "color_scheme", "label": "Farbschema", "default": "background-1",
      "options": [
        { "value": "background-1", "label": "Standard" },
        { "value": "background-2", "label": "Alternative" },
        { "value": "inverse", "label": "Invertiert" }
      ]
    },

    { "type": "header", "content": "Layout" },
    { "type": "range", "id": "gap", "min": 8, "max": 48, "step": 1, "unit": "px", "label": "Abstand zwischen Karten", "default": 24 },
    { "type": "range", "id": "cols_desktop", "min": 2, "max": 5, "step": 1, "label": "Spalten Desktop", "default": 3 },
    { "type": "range", "id": "cols_tablet",  "min": 1, "max": 4, "step": 1, "label": "Spalten Tablet",  "default": 2 },

    { "type": "header", "content": "Icon-Stil" },
    { "type": "checkbox", "id": "show_icons", "label": "Icons global anzeigen", "default": true },
    { "type": "range", "id": "icon_size", "min": 56, "max": 140, "step": 4, "unit": "px", "label": "Icon-Größe (Kreis)", "default": 88 },

    { "type": "range", "id": "icon_radius", "min": 0, "max": 1000, "step": 10, "unit": "px", "label": "Icon-Hintergrund: Radius", "default": 1000 }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "Qualitäten Hotspot",
      "settings": [
        { "type": "checkbox", "id": "show_icon", "label": "Icon anzeigen (überschreibt global)", "default": true },
        { "type": "image_picker", "id": "icon", "label": "Icon (PNG/SVG empfohlen)" },
        { "type": "color", "id": "icon_bg", "label": "Icon-Hintergrund", "default": "#e5e7eb" },

        { "type": "text", "id": "title", "label": "Titel", "default": "Qualitäten Hotspot" },
        { "type": "textarea", "id": "text", "label": "Beschreibung", "default": "Kurzer, prägnanter Beschreibungstext für diesen Qualitäten Hotspot." },

        { "type": "header", "content": "Unterpunkte (Liste)" },
        { "type": "textarea", "id": "subpoints", "label": "Unterpunkte (je Zeile ein Punkt)", "default": "Erster Unterpunkt\nZweiter Unterpunkt" },

        { "type": "header", "content": "Schaltfläche" },
        { "type": "checkbox", "id": "show_btn", "label": "Schaltfläche anzeigen", "default": true },
        { "type": "text", "id": "btn_label", "label": "Button-Text", "default": "Mehr erfahren" },
        { "type": "url", "id": "btn_link", "label": "Button-Link" },
        { "type": "color", "id": "btn_bg", "label": "Button Hintergrund", "default": "#0b63c8" },
        { "type": "color", "id": "btn_text", "label": "Button Textfarbe", "default": "#ffffff" }
      ]
    }
  ],
  "max_blocks": 12,
  "presets": [
    {
      "name": "Qualitäten Hotspot",
      "blocks": [
        { "type": "item", "settings": { "title": "Qualitäten Hotspot" } },
        { "type": "item", "settings": { "title": "Qualitäten Hotspot" } },
        { "type": "item", "settings": { "title": "Qualitäten Hotspot" } }
      ]
    }
  ]
}
{% endschema %}
